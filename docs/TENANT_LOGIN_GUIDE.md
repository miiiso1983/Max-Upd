# ุฏููู ุชุณุฌูู ุงูุฏุฎูู ูููุณุชุฃุฌุฑูู
## Tenant Login Guide

### ๐ข **ููููุฉ ุงูุฏุฎูู ููุณุชุฃุฌุฑ / How to Login as Tenant**

#### **ุงูุทุฑููุฉ ุงูุฃููู: ุงุณุชุฎุฏุงู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุงููุฎุตุตุฉ**

1. **ุงูุชุญ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู:**
   ```
   http://localhost:8000/tenant-login.html
   ```

2. **ุฃุฏุฎู ุจูุงูุงุช ุงูุงุนุชูุงุฏ:**
   - **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:** `admin@pharmaceutical.com`
   - **ูููุฉ ุงููุฑูุฑ:** `password123`

3. **ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"**

4. **ุณูุชู ุชูุฌููู ุฅูู ููุญุฉ ุงูุชุญูู:**
   ```
   http://localhost:8000/tenant-dashboard.html
   ```

#### **ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุชุญุฏูุฏ ุงููุณุชุฃุฌุฑ ูู ุงูุฑุงุจุท**

```
http://localhost:8000/tenant-login.html?tenant=pharmaceutical
```

### ๐ค **ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุชุฌุฑูุจู / Demo User Credentials**

| **ุงูุญูู** | **ุงููููุฉ** |
|------------|-------------|
| **ุงูุงุณู** | ูุฏูุฑ ุงูุตูุฏููุฉ |
| **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู** | admin@pharmaceutical.com |
| **ูููุฉ ุงููุฑูุฑ** | password123 |
| **ุงููุณุชุฃุฌุฑ** | Mustafa Qasim |
| **ุงููุทุงู** | pharmaceutical |
| **ุงููุณู** | ุงูุฅุฏุงุฑุฉ |
| **ุงูููุตุจ** | ูุฏูุฑ ุนุงู |

### ๐๏ธ **ูููู ุงููุธุงู / System Architecture**

#### **1. ุตูุญุงุช ุงููุณุชุฃุฌุฑ / Tenant Pages**

##### **ุฃ. ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (`tenant-login.html`)**
- ุชุตููู ุนุตุฑู ููุชุฌุงูุจ
- ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ (RTL)
- ูุดู ุชููุงุฆู ูููุณุชุฃุฌุฑ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

##### **ุจ. ููุญุฉ ุงูุชุญูู (`tenant-dashboard.html`)**
- ูุงุฌูุฉ ุดุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฃุนูุงู
- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ
- ูุงุฆูุฉ ุฌุงูุจูุฉ ูููุญุฏุงุช
- ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ
- ุชุตููู ูุชุฌุงูุจ

#### **2. API Endpoints ูููุณุชุฃุฌุฑูู**

##### **ุฃ. ุชุณุฌูู ุงูุฏุฎูู**
```http
POST /api/auth/login
Content-Type: application/json

{
    "email": "admin@pharmaceutical.com",
    "password": "password123"
}
```

##### **ุจ. ูุนูููุงุช ุงููุณุชุฃุฌุฑ**
```http
GET /api/tenant/info?domain=pharmaceutical
```

##### **ุฌ. ูุนูููุงุช ุงููุณุชุฎุฏู**
```http
GET /api/auth/user
Authorization: Bearer {token}
```

##### **ุฏ. ุชุณุฌูู ุงูุฎุฑูุฌ**
```http
POST /api/auth/logout
Authorization: Bearer {token}
```

### ๐ **ูุธุงู ุงููุตุงุฏูุฉ / Authentication System**

#### **1. ุชุฏูู ุชุณุฌูู ุงูุฏุฎูู / Login Flow**

```mermaid
graph TD
    A[ุงููุณุชุฎุฏู ูุฏุฎู ุงูุจูุงูุงุช] --> B[ุฅุฑุณุงู ุทูุจ ุชุณุฌูู ุงูุฏุฎูู]
    B --> C{ุงูุชุญูู ูู ุงูุจูุงูุงุช}
    C -->|ุตุญูุญ| D[ุงูุชุญูู ูู ุงููุณุชุฃุฌุฑ]
    C -->|ุฎุทุฃ| E[ุฑุณุงูุฉ ุฎุทุฃ]
    D --> F{ุงููุณุชุฃุฌุฑ ูุดุทุ}
    F -->|ูุนู| G{ุงูุชุฑุฎูุต ุตุงูุญุ}
    F -->|ูุง| H[ูุณุชุฃุฌุฑ ุบูุฑ ูุดุท]
    G -->|ูุนู| I[ุฅูุดุงุก Token]
    G -->|ูุง| J[ุชุฑุฎูุต ููุชูู]
    I --> K[ุชูุฌูู ูููุญุฉ ุงูุชุญูู]
```

#### **2. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช / Authorization**

- **Super Admin:** ูุตูู ูุงูู ูุฌููุน ุงููุณุชุฃุฌุฑูู
- **Tenant User:** ูุตูู ูุญุฏูุฏ ูููุณุชุฃุฌุฑ ุงููุญุฏุฏ ููุท
- **License Check:** ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุชุฑุฎูุต
- **Active Status:** ุงูุชุญูู ูู ุญุงูุฉ ุงููุณุชุฃุฌุฑ

### ๐จ **ูููุฒุงุช ุงููุงุฌูุฉ / UI Features**

#### **1. ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู**

##### **ุงูุชุตููู:**
- ุฎูููุฉ ูุชุฏุฑุฌุฉ ุฌุฐุงุจุฉ
- ุจุทุงูุฉ ุชุณุฌูู ุฏุฎูู ุดูุงูุฉ
- ุฃููููุงุช Bootstrap
- ุชุฃุซูุฑุงุช ุญุฑููุฉ

##### **ุงููุธุงุฆู:**
- ูุดู ุชููุงุฆู ูููุณุชุฃุฌุฑ ูู ุงูุฑุงุจุท
- ุฅุธูุงุฑ/ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ
- ุชุฐูุฑ ุงููุณุชุฎุฏู
- ุฑุณุงุฆู ุชุญููู
- ุงูุชุญูู ูู ุงูุฌูุณุฉ ุงูููุฌูุฏุฉ

#### **2. ููุญุฉ ุงูุชุญูู**

##### **ุงูููููุงุช:**
- ุดุฑูุท ุนููู ููุชููู
- ูุงุฆูุฉ ุฌุงูุจูุฉ ูููุญุฏุงุช
- ุจุทุงูุงุช ุฅุญุตุงุฆูุงุช
- ุดุจูุฉ ุงููููุฒุงุช
- ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ

##### **ุงููุญุฏุงุช ุงููุชุงุญุฉ (ูุฑูุจุงู):**
- ๐ ุงููุจูุนุงุช
- ๐ฆ ุงููุฎุฒูู
- ๐ ุงููุดุชุฑูุงุช
- ๐ฅ ุงูุนููุงุก
- ๐ ุงูููุฑุฏูู
- ๐ฐ ุงููุงููุฉ
- ๐จโ๐ผ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ
- ๐ ุงูุชูุงุฑูุฑ

### ๐งช **ุงุฎุชุจุงุฑ ุงููุธุงู / Testing the System**

#### **1. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู**

```bash
# ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ
curl -X POST "http://localhost:8000/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@pharmaceutical.com",
    "password": "password123"
  }'
```

#### **2. ุงุฎุชุจุงุฑ ูุนูููุงุช ุงููุณุชุฃุฌุฑ**

```bash
curl -X GET "http://localhost:8000/api/tenant/info?domain=pharmaceutical"
```

#### **3. ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ**

1. ุงูุชุญ `http://localhost:8000/tenant-login.html`
2. ุฃุฏุฎู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
3. ุชุญูู ูู ุงูุชูุฌูู ูููุญุฉ ุงูุชุญูู
4. ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฎุฑูุฌ

### ๐ง **ุฅุนุฏุงุฏ ูุณุชุฃุฌุฑูู ุฌุฏุฏ / Setting Up New Tenants**

#### **1. ุฅูุดุงุก ูุณุชุฃุฌุฑ ุฌุฏูุฏ**

```php
// ูู Tinker
$tenant = App\Models\Tenant::create([
    'name' => 'ุตูุฏููุฉ ุงูุดูุงุก',
    'domain' => 'alshifa-pharmacy',
    'company_name' => 'ุตูุฏููุฉ ุงูุดูุงุก ููุฃุฏููุฉ',
    'company_type' => 'pharmacy',
    'contact_person' => 'ุฃุญูุฏ ูุญูุฏ',
    'email' => 'info@alshifa.com',
    'phone' => '+964-1-234-5678',
    'address' => 'ุดุงุฑุน ุงูุฑุดูุฏุ ุจุบุฏุงุฏ',
    'city' => 'ุจุบุฏุงุฏ',
    'governorate' => 'Baghdad',
    'license_key' => 'MAXCON-ALSHIFA-PHARMACY-' . Str::upper(Str::random(8)),
    'license_expires_at' => now()->addYear(),
    'max_users' => 10,
    'is_active' => true,
]);
```

#### **2. ุฅูุดุงุก ูุณุชุฎุฏู ูููุณุชุฃุฌุฑ**

```php
$user = App\Models\User::create([
    'name' => 'ูุฏูุฑ ุงูุตูุฏููุฉ',
    'email' => 'admin@alshifa.com',
    'password' => bcrypt('password123'),
    'tenant_id' => $tenant->id,
    'is_active' => true,
]);
```

#### **3. ุงููุตูู ูููุณุชุฃุฌุฑ ุงูุฌุฏูุฏ**

```
http://localhost:8000/tenant-login.html?tenant=alshifa-pharmacy
```

### ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ / Next Steps**

#### **1. ุชุทููุฑ ุงููุญุฏุงุช**
- ุฅููุงู ูุญุฏุฉ ุงููุจูุนุงุช
- ุชุทููุฑ ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- ุฅุถุงูุฉ ูุธุงู ุงูุชูุงุฑูุฑ

#### **2. ุชุญุณูู ุงูุฃูุงู**
- ุฅุถุงูุฉ ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ
- ุชุดููุฑ ุฃููู ููุจูุงูุงุช
- ุณุฌูุงุช ุงูุฃูุงู

#### **3. ุชุญุณูู ุงููุงุฌูุฉ**
- ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชูุงุนููุฉ
- ุชุญุณูู ุงูุงุณุชุฌุงุจุฉ
- ุฏุนู ุงููุถุน ุงููุธูู

### ๐ **ุงูุฏุนู / Support**

#### **ูุดุงูู ุดุงุฆุนุฉ:**

1. **"Tenant not found"**
   - ุชุฃูุฏ ูู ุตุญุฉ ุงููุทุงู
   - ุชุญูู ูู ุญุงูุฉ ุงููุณุชุฃุฌุฑ

2. **"License expired"**
   - ุชุญุฏูุซ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุชุฑุฎูุต
   - ุงูุชูุงุตู ูุน ุงูุฅุฏุงุฑุฉ

3. **"Invalid credentials"**
   - ุชุฃูุฏ ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุชุญูู ูู ูููุฉ ุงููุฑูุฑ

#### **ูููุณุงุนุฏุฉ:**
- ุชุญูู ูู ุณุฌูุงุช ุงููุธุงู
- ุงุณุชุฎุฏู ุฃุฏูุงุช ุงููุทูุฑ ูู ุงููุชุตูุญ
- ุฑุงุฌุน ูุซุงุฆู API

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-07-05  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุงุณุชุฎุฏุงู โ  
**ุงููุทูุฑ:** MaxCon ERP Team
